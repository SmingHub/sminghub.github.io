<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Sming Framework API: SPI support classes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sming Framework API
   </div>
   <div id="projectbrief">Sming - Open Source framework for high efficiency WiFi SoC ESP8266 native development with C++ language.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__base__spi.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a> &#124;
<a href="#friend-members">Friends</a>  </div>
  <div class="headertitle">
<div class="title">SPI support classes</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides SPI support.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafbeadd11a2371ae16ff98c367c1b80dc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__base__spi.html#gafbeadd11a2371ae16ff98c367c1b80dc">SPIBase::begin</a> ()=0</td></tr>
<tr class="memdesc:gafbeadd11a2371ae16ff98c367c1b80dc"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__base__spi.html#gafbeadd11a2371ae16ff98c367c1b80dc" title="begin(): Initializes the SPI bus by setting SCK, MOSI, and SS to outputs, pulling SCK and MOSI low...">begin()</a>: Initializes the SPI bus by setting SCK, MOSI, and SS to outputs, pulling SCK and MOSI low, and SS high.  <a href="#gafbeadd11a2371ae16ff98c367c1b80dc">More...</a><br /></td></tr>
<tr class="separator:gafbeadd11a2371ae16ff98c367c1b80dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c11c8bd1a7be8104e1a004c0e964fe4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__base__spi.html#ga9c11c8bd1a7be8104e1a004c0e964fe4">SPIBase::end</a> ()=0</td></tr>
<tr class="memdesc:ga9c11c8bd1a7be8104e1a004c0e964fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__base__spi.html#ga9c11c8bd1a7be8104e1a004c0e964fe4" title="end(): Disables the SPI bus (leaving pin modes unchanged). ">end()</a>: Disables the SPI bus (leaving pin modes unchanged).  <a href="#ga9c11c8bd1a7be8104e1a004c0e964fe4">More...</a><br /></td></tr>
<tr class="separator:ga9c11c8bd1a7be8104e1a004c0e964fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5fd61e67423191ce0bc9a0e3e8bd5c4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__base__spi.html#gad5fd61e67423191ce0bc9a0e3e8bd5c4">SPIBase::beginTransaction</a> (<a class="el" href="classSPISettings.html">SPISettings</a> mySettings)=0</td></tr>
<tr class="memdesc:gad5fd61e67423191ce0bc9a0e3e8bd5c4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__base__spi.html#gad5fd61e67423191ce0bc9a0e3e8bd5c4" title="beginTransaction(): Initializes the SPI bus using the defined SPISettings. ">beginTransaction()</a>: Initializes the SPI bus using the defined <a class="el" href="classSPISettings.html">SPISettings</a>.  <a href="#gad5fd61e67423191ce0bc9a0e3e8bd5c4">More...</a><br /></td></tr>
<tr class="separator:gad5fd61e67423191ce0bc9a0e3e8bd5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2aec733277dc8c94a00e660d79a84f2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__base__spi.html#gad2aec733277dc8c94a00e660d79a84f2">SPIBase::endTransaction</a> ()=0</td></tr>
<tr class="memdesc:gad2aec733277dc8c94a00e660d79a84f2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__base__spi.html#gad2aec733277dc8c94a00e660d79a84f2" title="endTransaction(): Stop using the SPI bus. Normally this is called after de-asserting the chip select...">endTransaction()</a>: Stop using the SPI bus. Normally this is called after de-asserting the chip select, to allow other libraries to use the SPI bus.  <a href="#gad2aec733277dc8c94a00e660d79a84f2">More...</a><br /></td></tr>
<tr class="separator:gad2aec733277dc8c94a00e660d79a84f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40f6c5273d46c59daa4ddfe4afb48c17"><td class="memItemLeft" align="right" valign="top">virtual unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__base__spi.html#ga40f6c5273d46c59daa4ddfe4afb48c17">SPIBase::transfer</a> (unsigned char val)=0</td></tr>
<tr class="memdesc:ga40f6c5273d46c59daa4ddfe4afb48c17"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__base__spi.html#ga40f6c5273d46c59daa4ddfe4afb48c17" title="transfer(), transfer16() ">transfer()</a>, transfer16()  <a href="#ga40f6c5273d46c59daa4ddfe4afb48c17">More...</a><br /></td></tr>
<tr class="separator:ga40f6c5273d46c59daa4ddfe4afb48c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab76eb8ff66ddb8d594b0f63a4080e359"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab76eb8ff66ddb8d594b0f63a4080e359"></a>
virtual unsigned short&#160;</td><td class="memItemRight" valign="bottom"><b>SPIBase::transfer16</b> (unsigned short val)=0</td></tr>
<tr class="separator:gab76eb8ff66ddb8d594b0f63a4080e359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6172f9b3dae84ea656eeaad2c0ca9ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab6172f9b3dae84ea656eeaad2c0ca9ce"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>SPIBase::transfer</b> (uint8 *buffer, size_t size)=0</td></tr>
<tr class="separator:gab6172f9b3dae84ea656eeaad2c0ca9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab016cb0060a9c26fc87be6abca2fd760"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__base__spi.html#gab016cb0060a9c26fc87be6abca2fd760">SPISettings::SPISettings</a> (int speed, uint8 byteOrder, uint8 dataMode)</td></tr>
<tr class="memdesc:gab016cb0060a9c26fc87be6abca2fd760"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor for <a class="el" href="classSPISettings.html">SPISettings</a>  <a href="#gab016cb0060a9c26fc87be6abca2fd760">More...</a><br /></td></tr>
<tr class="separator:gab016cb0060a9c26fc87be6abca2fd760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga634f1733672525484407624879943f2d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga634f1733672525484407624879943f2d"></a>
uint8&#160;</td><td class="memItemRight" valign="bottom"><b>SPISettings::getDataMode</b> ()</td></tr>
<tr class="separator:ga634f1733672525484407624879943f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5904c0ccc6b075584d2ed6584c877d69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5904c0ccc6b075584d2ed6584c877d69"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>SPISettings::operator==</b> (const <a class="el" href="classSPISettings.html">SPISettings</a> &amp;other) const </td></tr>
<tr class="separator:ga5904c0ccc6b075584d2ed6584c877d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38fb8c02adefcf34afb44b6d46a1fd79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga38fb8c02adefcf34afb44b6d46a1fd79"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SPISettings::print</b> (const char *s)</td></tr>
<tr class="separator:ga38fb8c02adefcf34afb44b6d46a1fd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab60522af0ac50ba40d9047c99743141d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab60522af0ac50ba40d9047c99743141d"></a>
<a class="el" href="classSPISettings.html">SPISettings</a>&#160;</td><td class="memItemRight" valign="bottom"><b>SPIBase::SPIDefaultSettings</b></td></tr>
<tr class="separator:gab60522af0ac50ba40d9047c99743141d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friend-members"></a>
Friends</h2></td></tr>
<tr class="memitem:ga8c9e29aa86ce7fe7f779f66d9404c015"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8c9e29aa86ce7fe7f779f66d9404c015"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>SPIClass</b></td></tr>
<tr class="separator:ga8c9e29aa86ce7fe7f779f66d9404c015"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides SPI support. </p>
<p><a class="el" href="classSPISettings.html">SPISettings()</a> default Constructor.</p>
<p><a class="el" href="classSPIBase.html">SPIBase()</a> default Constructor.</p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafbeadd11a2371ae16ff98c367c1b80dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SPIBase::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="group__base__spi.html#gafbeadd11a2371ae16ff98c367c1b80dc" title="begin(): Initializes the SPI bus by setting SCK, MOSI, and SS to outputs, pulling SCK and MOSI low...">begin()</a>: Initializes the SPI bus by setting SCK, MOSI, and SS to outputs, pulling SCK and MOSI low, and SS high. </p>

<p>Implemented in <a class="el" href="group__hw__spi.html#ga1cc06a07f3e5b52aec9043f36401dac6">SPIClass</a>, and <a class="el" href="classSPISoft.html#a7356e612b98a3a42719501bb1696cb8c">SPISoft</a>.</p>

</div>
</div>
<a class="anchor" id="gad5fd61e67423191ce0bc9a0e3e8bd5c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SPIBase::beginTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSPISettings.html">SPISettings</a>&#160;</td>
          <td class="paramname"><em>mySettings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="group__base__spi.html#gad5fd61e67423191ce0bc9a0e3e8bd5c4" title="beginTransaction(): Initializes the SPI bus using the defined SPISettings. ">beginTransaction()</a>: Initializes the SPI bus using the defined <a class="el" href="classSPISettings.html">SPISettings</a>. </p>

<p>Implemented in <a class="el" href="group__hw__spi.html#ga0fe57c499412b23dc0030005129ab72c">SPIClass</a>, and <a class="el" href="classSPISoft.html#a56e82b3aeeea964ecec26ba0c4c3987b">SPISoft</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c11c8bd1a7be8104e1a004c0e964fe4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SPIBase::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="group__base__spi.html#ga9c11c8bd1a7be8104e1a004c0e964fe4" title="end(): Disables the SPI bus (leaving pin modes unchanged). ">end()</a>: Disables the SPI bus (leaving pin modes unchanged). </p>

<p>Implemented in <a class="el" href="group__hw__spi.html#ga1277bb1fa99673db0a38cdfe31725997">SPIClass</a>, and <a class="el" href="classSPISoft.html#ac5ac3ce86c91b9ed1a4c352de99dd78d">SPISoft</a>.</p>

</div>
</div>
<a class="anchor" id="gad2aec733277dc8c94a00e660d79a84f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SPIBase::endTransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="group__base__spi.html#gad2aec733277dc8c94a00e660d79a84f2" title="endTransaction(): Stop using the SPI bus. Normally this is called after de-asserting the chip select...">endTransaction()</a>: Stop using the SPI bus. Normally this is called after de-asserting the chip select, to allow other libraries to use the SPI bus. </p>

<p>Implemented in <a class="el" href="group__hw__spi.html#ga314cc5fade88ae0385812a110ba041dc">SPIClass</a>, and <a class="el" href="classSPISoft.html#a03b0151b2c2eb279978867d29e8321bf">SPISoft</a>.</p>

</div>
</div>
<a class="anchor" id="gab016cb0060a9c26fc87be6abca2fd760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPISettings::SPISettings </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>byteOrder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>dataMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructor for <a class="el" href="classSPISettings.html">SPISettings</a> </p>
<p>Settings are applied to SPI::beginTransaction(SPISettings) and are valid until next beginTransaction()</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>The maximum speed of communication. For a SPI chip rated up to sys clock speed. For 20 MHz, use 20000000. </td></tr>
    <tr><td class="paramname">byteOrder</td><td>MSBFIRST or LSBFIRST </td></tr>
    <tr><td class="paramname">dataMode</td><td>: SPI_MODE0, SPI_MODE1, SPI_MODE2, or SPI_MODE3</td></tr>
  </table>
  </dd>
</dl>
<p>byteOrder's are: </p><pre class="fragment">    MSBFIRST    Data is sent out starting with Bit31 and down to Bit0
    LSBFIRST    Data is sent out starting with the lowest BYTE, from MSB to LSB.
                0xABCDEFGH would be sent as 0xGHEFCDAB
</pre><p>Data modes are: </p><pre class="fragment">    Mode        Clock Polarity (CPOL)   Clock Phase (CPHA)
    SPI_MODE0       0                   0
    SPI_MODE1       0                   1
    SPI_MODE2       1                   0
    SPI_MODE3       1                   1</pre> 
</div>
</div>
<a class="anchor" id="ga40f6c5273d46c59daa4ddfe4afb48c17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned char SPIBase::transfer </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="group__base__spi.html#ga40f6c5273d46c59daa4ddfe4afb48c17" title="transfer(), transfer16() ">transfer()</a>, transfer16() </p>
<p>SPI transfer is based on a simultaneous send and receive: the received data is returned in receivedVal (or receivedVal16). In case of buffer transfers the received data is stored in the buffer in-place (the old data is replaced with the data received). </p><pre class="fragment">    receivedVal = SPI.transfer(val)
    receivedVal16 = SPI.transfer16(val16)
    SPI.transfer(buffer, size)</pre> 
<p>Implemented in <a class="el" href="group__hw__spi.html#ga0701976a831f9cae78ba386f326e3616">SPIClass</a>, and <a class="el" href="classSPISoft.html#af278fc0c4ff05a66c26006751fde2b65">SPISoft</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
